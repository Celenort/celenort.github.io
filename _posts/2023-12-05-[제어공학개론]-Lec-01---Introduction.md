---
layout: post
date: 2023-12-05
title: "[제어공학개론] Lec 01 - Introduction"
tags: [control, lecture-note, system, from_velog, ]
categories: [Electrical Engineering, control theory, ]
media_subpath: assets/img/2023-12-05-[제어공학개론]-Lec-01---Introduction.md
image:
  path: 0.png
  alt:  
description: 제어공학개론의 첫 수업에서는 제어의 정의와 과정, 예시로 드론을 통해 입력 설계의 필요성을 설명했습니다. 제어 시스템은 입력과 출력의 관계를 모델링하고, 피드백을 통해 외란을 줄이며 시스템의 강인성과 동적 특성을 개선합니다. 다음 포스트에서는 다양한 모델링 방법에 대해 다룰 예정입니다.
pin: false
---


![0](/0.png)


# 📢Precaution


> 본 게시글은 서울대학교 심형보 교수님의 제어공학개론 수업 내용을 바탕으로 작성되었습니다.

- 배경지식 : (X)

{% raw %}


# Definition of "Control"


### 제어의 과정 : Modeling, Analysis, Synthesis


제어란, 원하는 출력을 얻기 위해 입력을 설계하는 것을 의미합니다.


제어를 위해서는 제어를 위한 대상이 입력과 출력을 가지고 있어야 합니다. Notation에 대한 정의는 수업 때 마다, 교재마다 다르기 때문에 큰 의미를 둘 필요는 없지만 주로 입력신호는 $u(t)$, 출력 신호로는 $y(t)$로 표기하는 경향이 있습니다.


# A simple example


수업에서는 드론의 예시를 들었는데, 드론이 일정 높이(이를테면 1m)의 위치에 떠있는 상태를 유지하기 위해서는 어떤 입력을 가해야 하는지 설계하는 것이 제어의 예시가 될 수 있습니다.


위 예시에서, 드론과 같이 제어의 대상이 되는 것을 system 혹은 plant라고 합니다. 뒤에 나오겠지만 제어를 위해 주로 Feedback의 형태로 출력 신호를 받아 입력 신호에 반영시켜주는 것을 controller라고 합니다.


### Block diagram : 제어의 추상화


Flow chart와 같이 제어를 block diagram으로 추상화하여 나타낼 수 있는데, 입력 신호와 출력 신호와 같은 신호를 선으로, 제어기와 플랜트를 직사각형의 block 형태로 표시합니다.


![1](/1.png)


### 실제 세계에 대한 Modeling의 필요성


드론의 예시로 계속 이야기 해보면, 드론의 상황을 실제 세계로부터 Modeling 해 와야 합니다. 물리시간으로부터, 이론상 드론의 무게에 해당하는 힘과 같은 크기로 들어올려질 때 드론은 그 자리를 유지합니다. 지표면으로부터의 높이를 system의 출력에 해당하는 $y(t)$로 놓고, 인가하는 힘을 $u(t)$로 놓으면 되겠죠.


![2](/2.png)


이 상태에서 $F=ma$라는 뉴턴의 제 2법칙으로부터 하나의 미분방정식을 얻어낼 수 있습니다.


> (1)  
> $$  
> u(t)-mg = m\ddot y(t)$$


입력변수 $u(t)$에 따라 출력변수 $y(t)$의 2번 미분된 값이 달라지죠? 이 과정이 바로 Modeling이라고 할 수 있습니다. 위 미분방정식을 풀기 위해 어떤 과정이 필요할까요?


먼저는, 초깃값을 알아야 문제를 해결할 수 있을 겁니다. $y(0), \dot y(0)$는 각각 0초, 즉 초기 상태의 드론의 높이와 속도입니다. 그 다음은, 드론이 실제로 따라갔으면 하는, desired height에 대한 그래프를 그려볼 수 있을겁니다. 한번에 휙 올라가는 것 보다는 부드럽게 올라가는 편이 좋겠죠?


### Command


![3](/3.png)


위 그림과 같이 드론이 따라 갔으면 하는 높이를 그래프로 그릴 수 있을 겁니다. 이 때의 $y^* (t)$를 Command, 혹은 Reference라고 합니다. 0.4m에서 곧장 1m로 가는 것이 아니라 완만한 곡선을 그리게 하고, 일정 시간 후에는 1m 높이를 유지하도록 그릴 수 있겠습니다.
Initial value를 알고, command를 알면, 이제 $u(t)$를 간단히 구할 수 있습니다. 먼저는 Command를 2번 미분한 $\ddot y^* (t)$를 (1)의 $\ddot y$에 대입하면 됩니다.


### 제어의 필요성


제어를 이용하지 않고도 이미 1m 높이에서 hovering하기 위한 입력 $u(t)$를 알아냈습니다. 제어 없이도 문제를 해결한 것 같아 보이지만, 여기에는 크게 2가지 정도의 문제점이 산재해 있습니다.

1. 우리가 이미 아는 값이라고 간과하고 있는 질량 $m$이 있습니다. 실제 질량이 $m$, 측정된 질량이 $m'$이라 하면 1m에 도달한 이후에 인가되는 힘 $u(t) = m'g\neq mg$ 이므로, 1m를 유지하지 못하고 아주 조금씩 위나 아래로 벗어나게 됩니다.
2. Purturbation, Disturbance가 고려되지 않았습니다. 드론의 예시에서는, 누군가 드론을 툭 치거나, 이동하면서 받는 공기의 저항, 바람과 같은 여러 요소들이 고려되지 않았습니다.

공기 저항 의 크기는 속도에 비례하므로 modeling에 추가할 수 있습니다. 또 바람의 경우에도 풍향계와 풍속계를 드론에 달아 추가로 sensing한다면, 이 또한 modeling을 통해 포함시킬 수 있긴 할겁니다. 반대로 누가 툭 치는 행위, 전기적 신호의 noise와 같은 것들은 modeling자체가 불가능한 경우도 있습니다. 어떤 이유에서든 modeling에 포함시키지 않은 요소와 포함시킬 수 없는 요소들에 의해 disturbance(외란)이 생깁니다.


이러한 이유에서 (1)을 풀어 $u(t)$를 구하는 단순한 방법을 적용하면 실제 세계와 맞아떨어지지 않게 됩니다.


# Feedback


Feedback을 설명하기까지 서론이 참 길었습니다. Feedback은 이러한 물리량의 측정 오류에 의한, 외란에 의해 생기는 오차들을 줄일 수 있는 방법입니다. Feedback 자체에 대한 정의는 우리 일상에서의 '피드백'의 정의와 비슷합니다. 여기서는 $y(t)$의 측정 값을 이용해 $u(t)$의 값을 업데이트 하는 것이라고 간단히 말할 수 있을 것 같습니다.


### Feedback의 기능


Feedback을 위해서는 Sensor를 통해서 현재 높이인 $y(t)$값을 알아내야 하므로 sensing을 하여 알아내야 합니다. Feedback은 크게 2가지의 역할을 담당하는데,

1. System의 Robustness(강인성)을 증가시켜줍니다. 위 제어의 필요성과 일맥상통하는 부분으로, 작은 purturbation이나 외부로부터 오는 disturbance에도 system이 빠르게 Desired $y^* (t)$로 복귀할 수 있도록 하는 것이 피드백입니다
2. 둘째로, System 자체의 Dynamics를 바꿔줍니다. 앞의 드론을 예시로 어떻게 System 자체의 Dynamics에 Feedback이 관여할 수 있는지를 알아봅시다.

$y(t)$라는 높이를 Sensor를 통해 측정하여 이 정보를 알고 있다고 가정하고 원래의 지배방정식을 다시 써보면,


> (1)  
> $$  
> m\ddot y = u-mg$$


여기서 정확한 질량 $m$, (더하여 중력가속도 $g$)를 알지 못하기 때문에, 대략적인 Approximation 값인 $\bar{mg}$를 이용할 수 있습니다. 다만, 이제는 $y(t)$를 알기 때문에 $y(t)$, 그리고 이를 미분한 $\dot y(t)$도 사용할 수 있겠습니다. 이를 이용해서 $u(t)$를 만드는 것도 가능합니다.


> (2)  
> $$  
> u(t) = -c\dot y(t) -ky(t)+\overline{mg}$$


다음과 같이 sensor로부터 얻어낸 신호를 이용해서 다음과 같이 $u(t)$를 만들어 볼 수 있겠습니다. (2) 식을 (1)에 다시 대입해보면,


> (3)  
> $$  
> m\ddot y + c\dot y + ky = \overline{mg} - mg$$


다음과 같은 Mass-Spring-Damper의 2차 미분방정식으로 system의 지배방정식이 바뀐 것을 알 수 있습니다. 이 미분방정식은 공학수학 시간의 ODE에서도 많이 다루죠. 중요한 것은 그게 아니라 단지 $F=ma$에서 비롯되었던 식이 Feedback을 통해 (3)과 같이 그 Dynamics 자체가 바뀌었다는 것입니다.


System의 Dynamics를 건드린다는 것은, 그 system의 stability(안정도)를 검토해 봐야한다는 뜻이기도 합니다. 자꾸 다루지 않은 단어를 언급하는 것이 불편하지만, 여기서의 안정도는, 드론의 예시에서 드론이 갑자기 바닥으로 고꾸라지거나, 저 하늘 위로 날아가버리는, 우리가 원하지 않는 파국으로 치닿는 것을 의미합니다. 미분방정식의 입장에서는 해가 발산하는 경우입니다.


### Dynamic vs Static System


위에서 Dynamic이라는, 단어가 나왔죠. 이름 그대로 역학 시스템이라고 해석해도 무방하기는 하나, 정확히는 자연계로부터 모델링되는 이 Dynamic system은 Static system과 대치되는 단어입니다.


Dynamic system과 Static system은 간단히 설명하자면 Memory의 여부에 따라 결정됩니다. 위 시스템에서는 2개의 $\ddot y(t)$가 등장하므로 적분기가 존재하는 것으로 볼 수 있고 적분기라는 것은 초기상태로부터 지금까지의 정보를 담는 Memory라고 볼 수 있겠지요. 이는 정보의 저장 없이 단순히 입력으로부터 출력을 내는 Static system의 차이점입니다. 예를 들어 $u(t)$의 값을 3배 하여 $y(t)$로 출력하는 System이 있다면, 이는 Static system입니다. 값을 바로 도출해내므로 메모리가 필요 없고 입력받은 즉시 출력하는 (instant response) 시스템입니다.


# ❗ 결론


제어공학개론의 첫 수업 시간 내용을 요약하며, '제어'의 정의가 무엇이고 어떤 문제를 해결하는데 사용되는지 간략하게 알아봤습니다. 다음 Post는 Modeling을 다루면서, 다양한 Modeling 방법에 대해 다루도록 하겠습니다.


### 🍪Comment


수업 내용을 정리하는 차원에서 쓰고 있기 때문에, 수업 진도를 웬만해서는 그대로 따라가되 일종의 재편집 및 수정을 거쳐 순서가 뒤섞일 수도 있습니다.


항상 짧막하게 수식, 단어 몇개를 나열하는 식으로 Note taking을 하다 이렇게 문장형으로 긴 글을 쓰다 보니 새롭게 느껴지네요. OT에 해당하는 내용임에도 이것저것 단어와 내용을 찾아보게 되고 얻어가는게 있으니 다행입니다. 한가지 우려되는 사항은, self-contained한 글을 작성하려고 하니 이것저것 사족이 많아지고 글이 길어진다는 점입니다. 따로 분리해서 글을 쓰자니 위키피디아의 토막글처럼 내용은 없는 글이 될 것 같고, 일단은 글이 길어지더라도 해당 글 내에서 최대한 다뤄보도록 하겠습니다. 최선책은 그럴 일이 없도록 글의 서술 순서를 잘 조정하는 것이겠지요.


혼자 정리하는 목적이지만, 상상속 독자님, 읽으시느라 고생 많으셨습니다! 😋


{% endraw %}

