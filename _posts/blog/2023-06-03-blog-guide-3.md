---
title: "Mathjax로 수식 입력하기"
permalink: /blog/mathjax/
excerpt: "Mathjax를 이용하여 수학 식을 입력하기"
last_modified_at: 2023-08-01
date: 2023-06-03
show_date: true
toc: true
toc_sticky: true
sidebar:
  nav: "blog"
author_profile: false
---

## MathJax 소개

Mathjax는 오픈소스, JavaScript로 만들어진 LaTex, MathML, AsciiMath 표시기입니다. 이를 이용하여서, 일반적인 수식 뿐만 아니라 여러 다양한 수학/과학에서 사용되는 연산자나 단위를 사용할 수 있습니다. 

## 스크립트 작성

1. `_includes` 디렉토리에 파일 만들기

    jekyll `_includes` 폴더 내에 `mathjax.html` 파일을 만들어 줍니다.
    파일 내용에는 다음을 입력해 줍니다.
    
    ```html
    {% if page.mathjax %}
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>


    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
    {% endif %}
    ```

2. `_layouts`의 `default.html` 파일 변경

	`<body>` 태그에 위치한 `include masthead.html` 아래에 다음 내용을 추가해 줍니다.

	```yaml
		{% include mathjax.html %}
	```

	이렇게 되면 default layout을 사용하는 모든 경우에 `mathjax.html`이 로딩됩니다.

  

3. `_config.yml`에서 `defaults` 부분 변경

	글을 작성할 때 마다 YAML Front Matter에 `mathjax: true`를 추가하는 것은 번거로우므로,
	`_config.yml`의 `defaults`에서, 다음 부분을 변경시켜 줍니다.

	```yaml
	defaults:
	# _posts
	- scope:
		path: ""
		type: posts
		values:
		layout: single
		author_profile: true
		read_time: true
		share: true
		related: true
		show_date: true
		mathjax: true
		...
	```

	이외에 post나 다른 형식의 글에도 mathjax를 적용하고 싶다면 아래에도 동일한 방법으로 `mathjax: true`를 적용해 주면 됩니다.

### 개별 문서에서 mathjax disable

간단히 특정 문서에서 mathjax를 비활성화하고 싶다면, YAML Front Matter에서 `mathjax: false`를 추가하면 됩니다.

최종적으로 유저에게 보여지는 문서의 front matter를 우선하기 때문에 비활성화 될 것으로 보입니다.

## Mathjax 사용법 및 주의사항

### Mathjax 사용법

1. 단순한 inline 수식은 `$`를 양쪽에 둘러쌓아 만들어집니다.
	
	```latex
		$a^2+b^2=c^2$을 표시해 보자.
	```
	
	$a^2+b^2=c^2$을 표시해 보자.

2. 한 줄 전체를 수식으로 표현하기 위해서는 `$$`를 양쪽에 둘러쌓아 만들어집니다.

	```latex
		$$F=k_e { {q_1 q_2}\over{r^2} }$$
	```

	$$F=k_e { {q_1 q_2}\over{r^2} }$$

	또한, 자동으로 가운데 정렬이 됨을 알 수 있습니다.
	
	**주의:** inline으로 `$$`이 포함된 수식을 사용할 경우 에러가 나거나 렌더링 오류가 납니다. <br>
	{: .notice--danger}

	```latex
		뉴턴의 제 2법칙은 $$F=ma$$입니다.
	```

### Mathjax 유의사항

- Spacing을 하기 위해서는 `\`를 이용합니다.

	```latex
		$$ \vec{V} = u \hat{i}, \ \ or \ \ \vec{V} = (\overline{u}+u') 
		\hat{i} + \overline{v} \hat{j} + \overline{w} \hat{k} $$
	```

	$$ \vec{V} = u \hat{i} \ \ or \ \ \vec{V} = (\overline{u}+u') 
	\hat{i} + \overline{v} \hat{j} + \overline{w} \hat{k} $$

- Break를 하기 위해서는 `\\`을 이용합니다.

	```latex
		$$\sin{x} = x- {x^3 \over 3!} + {x^5 \over 5!} + \cdots + (-1)^n {x^{2n+1}\over {(2n+1)!}} \\ \text{as}\\ n \rightarrow \infty$$
	```

	$$\sin{x} = x- {x^3 \over 3!} + {x^5 \over 5!} + \cdots + (-1)^n {x^{2n+1}\over {(2n+1)!}} \\ \text{as} \ \ n \rightarrow \infty$$

- `{` 혹은 `}`를 2번 연속 붙여쓰지 마세요.

	```latex
		${ {a} \over {b} }$
	```
	
	위와 같이 작성할 경우 github pages에서 parsing 할 때 에러가 나는 것 같습니다. jekyll에서 사용되는 liquid 때문에 그런 것 같습니다. 꼭 space를 하나 넣어 주세요.


- 사용할만한 (자주 헷갈리는) 내용들

	```latex
		$$ N \sim \infty $$
		$$ \frac a c = {b \over d} = {a+b}/{c+d}$$
		$$ \cdot \ \ \cdots $$
		Mass conversion Law : 
		$${dM\over dt}\bigg)_{system} = 0$$
	```

	$$ N \sim \infty $$

	$$ \frac a c = {b \over d} = (a+b)/(c+d)$$

	$$ \cdot \ \ \cdots $$

	Mass conversion Law : 

	$${dM\over dt}\bigg)_{system} = 0$$


- bold 표기를 위해서는 `\boldsymbol`을 이용합니다.

	```latex
	$$\boldsymbol F(\boldsymbol v) = [F_1, F_2, F_3]$$
	```
	
	$$\boldsymbol F(\boldsymbol v) = [F_1, F_2, F_3]$$

- 행렬의 표기를 위해서는 begin/end pmatrix을 사용합니다.

	```latex
	\begin{pmatrix}
   a & b \\
   c & d
	\end{pmatrix}
	```
$$
	\begin{pmatrix}
   a & b \\
   c & d
	\end{pmatrix}
$$

- 식에서 여러 범위를 나눌 때는 begin/end cases를 사용합니다.

	```latex
	f(x) = \begin{cases}
		1 &\text{if } x>0 \\
		-1 &\text{if } x<0
	\end{cases}
	```
$$
f(x) = \begin{cases}
	1 &\text{if } x>0 \\
	-1 &\text{if } x<0
\end{cases}
$$

- 식에 텍스트를 표기하고 싶을 때는 '\text 를 이용합니다.

	```latex
	x=4 \ \text{and} \ x=5
	```
$$
	x=4 \ \text{and} \ x=5
$$

- lim 아래에 식을 표기할 때에는 '\lim\limits_{}'를 사용

	```latex
	$$\lim\limits_{\Delta t \rightarrow 0}$$
	```

	$$\lim\limits_{\Delta t \rightarrow 0}$$
